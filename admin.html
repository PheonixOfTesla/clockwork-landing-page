<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Creator Dashboard - Clockwork Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: #0a0a0a;
            color: white;
        }
        .glass {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .loading { animation: pulse 1.5s infinite; }
        .stat-card:hover { transform: translateY(-4px); transition: all 0.3s; }
    </style>
</head>
<body class="min-h-screen">
    <!-- Auth Screen -->
    <div id="authScreen" class="min-h-screen flex items-center justify-center">
        <div class="glass rounded-3xl p-8 max-w-md w-full mx-4">
            <div class="text-center mb-8">
                <i class="fas fa-cog text-indigo-500 text-4xl mb-4"></i>
                <h1 class="text-2xl font-black text-white">Creator Access</h1>
                <p class="text-gray-400 text-sm mt-2">Enter your admin passphrase</p>
            </div>
            <form id="authForm">
                <input type="password" id="passphrase" placeholder="Passphrase"
                    class="w-full p-4 bg-white/5 border border-white/10 rounded-xl text-white mb-4 focus:outline-none focus:border-indigo-500">
                <button type="submit" class="w-full p-4 bg-indigo-500 hover:bg-indigo-600 text-white font-bold rounded-xl transition-all">
                    Access Dashboard
                </button>
            </form>
            <p id="authError" class="text-red-400 text-sm text-center mt-4 hidden">Invalid passphrase</p>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="hidden">
        <!-- Header -->
        <header class="glass border-b border-white/10 sticky top-0 z-50">
            <div class="container mx-auto px-6 py-4 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <i class="fas fa-cog text-indigo-500 text-2xl"></i>
                    <span class="text-xl font-black">Creator Dashboard</span>
                </div>
                <div class="flex items-center gap-4">
                    <span class="text-gray-400 text-sm" id="lastUpdated">Loading...</span>
                    <button onclick="refreshData()" class="p-2 hover:bg-white/10 rounded-lg transition-all">
                        <i class="fas fa-sync-alt text-gray-400"></i>
                    </button>
                    <a href="index.html" class="text-gray-400 hover:text-white text-sm">
                        <i class="fas fa-external-link-alt mr-1"></i>View Site
                    </a>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-6 py-8">
            <!-- Overview Stats -->
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                <div class="glass rounded-2xl p-6 stat-card">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-400 text-sm">Total Downloads</span>
                        <i class="fas fa-download text-indigo-400"></i>
                    </div>
                    <div class="text-3xl font-black" id="totalDownloads">--</div>
                    <div class="text-green-400 text-xs mt-1"><i class="fas fa-arrow-up mr-1"></i><span id="downloadsTrend">--</span></div>
                </div>
                <div class="glass rounded-2xl p-6 stat-card">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-400 text-sm">Subscribers</span>
                        <i class="fas fa-users text-orange-400"></i>
                    </div>
                    <div class="text-3xl font-black" id="totalSubscribers">--</div>
                    <div class="text-green-400 text-xs mt-1"><i class="fas fa-arrow-up mr-1"></i><span id="subsTrend">--</span></div>
                </div>
                <div class="glass rounded-2xl p-6 stat-card">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-400 text-sm">MRR</span>
                        <i class="fas fa-dollar-sign text-green-400"></i>
                    </div>
                    <div class="text-3xl font-black" id="totalMRR">--</div>
                    <div class="text-green-400 text-xs mt-1"><i class="fas fa-arrow-up mr-1"></i><span id="mrrTrend">--</span></div>
                </div>
                <div class="glass rounded-2xl p-6 stat-card">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-gray-400 text-sm">GitHub Stars</span>
                        <i class="fas fa-star text-yellow-400"></i>
                    </div>
                    <div class="text-3xl font-black" id="totalStars">--</div>
                    <div class="text-gray-400 text-xs mt-1">Across all repos</div>
                </div>
            </div>

            <!-- Products Grid -->
            <div class="grid md:grid-cols-3 gap-6 mb-8">
                <!-- Omniverse -->
                <div class="glass rounded-2xl p-6">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-xl flex items-center justify-center">
                            <span class="text-xl font-black text-white">O</span>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">Omniverse</h3>
                            <p class="text-gray-500 text-sm">Desktop App</p>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Total Downloads</span>
                            <span class="font-bold" id="omniDownloads">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">macOS</span>
                            <span class="font-bold" id="omniMac">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Windows</span>
                            <span class="font-bold" id="omniWin">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Linux</span>
                            <span class="font-bold" id="omniLinux">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Latest Version</span>
                            <span class="font-bold text-indigo-400" id="omniVersion">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">GitHub Stars</span>
                            <span class="font-bold" id="omniStars">--</span>
                        </div>
                        <div class="pt-4 border-t border-white/10">
                            <a href="https://github.com/PheonixOfTesla/omniverse-core/releases" target="_blank"
                               class="text-indigo-400 text-sm hover:underline">
                                <i class="fab fa-github mr-1"></i>View Releases
                            </a>
                        </div>
                    </div>
                </div>

                <!-- ClockWork -->
                <div class="glass rounded-2xl p-6">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-orange-500 to-red-500 rounded-xl flex items-center justify-center">
                            <i class="fas fa-clock text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">ClockWork</h3>
                            <p class="text-gray-500 text-sm">Fitness Platform</p>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Active Subscribers</span>
                            <span class="font-bold" id="cwSubscribers">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Individual ($9.99)</span>
                            <span class="font-bold" id="cwIndividual">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Coach ($79)</span>
                            <span class="font-bold" id="cwCoach">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">MRR</span>
                            <span class="font-bold text-green-400" id="cwMRR">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Churn Rate</span>
                            <span class="font-bold" id="cwChurn">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Active Coaches</span>
                            <span class="font-bold" id="cwCoaches">--</span>
                        </div>
                        <div class="pt-4 border-t border-white/10">
                            <a href="https://dashboard.stripe.com" target="_blank"
                               class="text-orange-400 text-sm hover:underline">
                                <i class="fas fa-credit-card mr-1"></i>Stripe Dashboard
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Phoenix -->
                <div class="glass rounded-2xl p-6">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-500 rounded-xl flex items-center justify-center opacity-60">
                            <i class="fas fa-fire text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-white">Phoenix</h3>
                            <p class="text-gray-500 text-sm">Life OS (Coming Soon)</p>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Waitlist Signups</span>
                            <span class="font-bold" id="phWaitlist">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Beta Users</span>
                            <span class="font-bold" id="phBeta">--</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">API Endpoints</span>
                            <span class="font-bold" id="phEndpoints">454</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Status</span>
                            <span class="px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full">In Development</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Launch Target</span>
                            <span class="font-bold">Q1 2025</span>
                        </div>
                        <div class="flex justify-between items-center">
                            <span class="text-gray-400 text-sm">Domains</span>
                            <span class="font-bold">9</span>
                        </div>
                        <div class="pt-4 border-t border-white/10">
                            <a href="https://github.com/PheonixOfTesla/phoenix-fe" target="_blank"
                               class="text-rose-400 text-sm hover:underline">
                                <i class="fab fa-github mr-1"></i>View Repository
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="glass rounded-2xl p-6 mb-8">
                <h3 class="font-bold text-white mb-4">
                    <i class="fas fa-clock text-gray-400 mr-2"></i>Recent Activity
                </h3>
                <div class="space-y-3" id="activityFeed">
                    <div class="flex items-center gap-4 p-3 bg-white/5 rounded-lg">
                        <div class="w-8 h-8 bg-indigo-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-download text-indigo-400 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-sm text-white">Omniverse Desktop built successfully</div>
                            <div class="text-xs text-gray-500">macOS • 3.2 MB • Just now</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-4 p-3 bg-white/5 rounded-lg">
                        <div class="w-8 h-8 bg-green-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-code text-green-400 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-sm text-white">Clockwork Hub updated</div>
                            <div class="text-xs text-gray-500">Multi-product portal • Just now</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-4 p-3 bg-white/5 rounded-lg">
                        <div class="w-8 h-8 bg-purple-500/20 rounded-full flex items-center justify-center">
                            <i class="fas fa-rocket text-purple-400 text-sm"></i>
                        </div>
                        <div class="flex-1">
                            <div class="text-sm text-white">57 files created for Omniverse Core</div>
                            <div class="text-xs text-gray-500">8,329 lines of code • Today</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="glass rounded-2xl p-6">
                <h3 class="font-bold text-white mb-4">
                    <i class="fas fa-bolt text-yellow-400 mr-2"></i>Quick Actions
                </h3>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <a href="https://github.com/PheonixOfTesla/omniverse-core/releases/new" target="_blank"
                       class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-all text-center">
                        <i class="fas fa-tag text-indigo-400 text-xl mb-2"></i>
                        <div class="text-sm text-white">New Release</div>
                    </a>
                    <a href="https://dashboard.stripe.com/subscriptions" target="_blank"
                       class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-all text-center">
                        <i class="fas fa-users text-orange-400 text-xl mb-2"></i>
                        <div class="text-sm text-white">Subscribers</div>
                    </a>
                    <a href="https://vercel.com/dashboard" target="_blank"
                       class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-all text-center">
                        <i class="fas fa-server text-green-400 text-xl mb-2"></i>
                        <div class="text-sm text-white">Deployments</div>
                    </a>
                    <a href="https://github.com/PheonixOfTesla?tab=repositories" target="_blank"
                       class="p-4 bg-white/5 rounded-xl hover:bg-white/10 transition-all text-center">
                        <i class="fab fa-github text-gray-400 text-xl mb-2"></i>
                        <div class="text-sm text-white">All Repos</div>
                    </a>
                </div>
            </div>

            <!-- API Connections Status -->
            <div class="glass rounded-2xl p-6 mt-8">
                <h3 class="font-bold text-white mb-4">
                    <i class="fas fa-plug text-blue-400 mr-2"></i>Data Connections
                </h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                        <div class="flex items-center gap-3">
                            <i class="fab fa-github text-gray-400"></i>
                            <span class="text-sm">GitHub API</span>
                        </div>
                        <span class="px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full" id="githubStatus">Connected</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                        <div class="flex items-center gap-3">
                            <i class="fab fa-stripe text-gray-400"></i>
                            <span class="text-sm">Stripe API</span>
                        </div>
                        <span class="px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded-full" id="stripeStatus">Add API Key</span>
                    </div>
                    <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                        <div class="flex items-center gap-3">
                            <i class="fas fa-database text-gray-400"></i>
                            <span class="text-sm">Phoenix Backend</span>
                        </div>
                        <span class="px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full" id="backendStatus">Connected</span>
                    </div>
                </div>
                <p class="text-gray-500 text-xs mt-4">
                    To enable Stripe data, add your API key in the configuration.
                </p>
            </div>
        </main>

        <!-- Footer -->
        <footer class="border-t border-white/10 py-6 mt-8">
            <div class="container mx-auto px-6 text-center text-gray-500 text-sm">
                Clockwork Creator Dashboard &copy; 2025
            </div>
        </footer>
    </div>

    <script>
        // Secure hash-based authentication
        const ADMIN_HASH = 'f3b0f8d5d3304e815609bda8681b21365229d03959a51d73ef3236e3238a202c';

        async function sha256(message) {
            const msgBuffer = new TextEncoder().encode(message);
            const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        // Check if already authenticated (session-based)
        if (sessionStorage.getItem('clockwork_admin_auth') === ADMIN_HASH) {
            showDashboard();
        }

        document.getElementById('authForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const pass = document.getElementById('passphrase').value;
            const hash = await sha256(pass);

            if (hash === ADMIN_HASH) {
                sessionStorage.setItem('clockwork_admin_auth', ADMIN_HASH);
                showDashboard();
            } else {
                document.getElementById('authError').classList.remove('hidden');
                document.getElementById('passphrase').value = '';
            }
        });

        function showDashboard() {
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('dashboard').classList.remove('hidden');
            loadData();
        }

        async function loadData() {
            document.getElementById('lastUpdated').textContent = 'Updating...';

            // Fetch GitHub data
            try {
                const repoResponse = await fetch('https://api.github.com/repos/PheonixOfTesla/omniverse-core');
                if (repoResponse.ok) {
                    const repo = await repoResponse.json();
                    document.getElementById('omniStars').textContent = repo.stargazers_count || 0;
                    document.getElementById('totalStars').textContent = repo.stargazers_count || 0;
                }

                // Fetch releases
                const releasesResponse = await fetch('https://api.github.com/repos/PheonixOfTesla/omniverse-core/releases');
                if (releasesResponse.ok) {
                    const releases = await releasesResponse.json();
                    let totalDownloads = 0;
                    let macDownloads = 0;
                    let winDownloads = 0;
                    let linuxDownloads = 0;
                    let latestVersion = 'v1.0.0';

                    if (releases.length > 0) {
                        latestVersion = releases[0].tag_name || 'v1.0.0';

                        releases.forEach(release => {
                            release.assets?.forEach(asset => {
                                totalDownloads += asset.download_count || 0;
                                if (asset.name.includes('.dmg') || asset.name.includes('.app')) {
                                    macDownloads += asset.download_count || 0;
                                } else if (asset.name.includes('.msi') || asset.name.includes('.exe')) {
                                    winDownloads += asset.download_count || 0;
                                } else if (asset.name.includes('.AppImage') || asset.name.includes('.deb')) {
                                    linuxDownloads += asset.download_count || 0;
                                }
                            });
                        });
                    }

                    document.getElementById('totalDownloads').textContent = totalDownloads.toLocaleString();
                    document.getElementById('omniDownloads').textContent = totalDownloads.toLocaleString();
                    document.getElementById('omniMac').textContent = macDownloads.toLocaleString();
                    document.getElementById('omniWin').textContent = winDownloads.toLocaleString();
                    document.getElementById('omniLinux').textContent = linuxDownloads.toLocaleString();
                    document.getElementById('omniVersion').textContent = latestVersion;
                    document.getElementById('downloadsTrend').textContent = 'New release';
                }

                document.getElementById('githubStatus').textContent = 'Connected';
                document.getElementById('githubStatus').className = 'px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full';
            } catch (e) {
                console.error('GitHub API error:', e);
                document.getElementById('githubStatus').textContent = 'Error';
                document.getElementById('githubStatus').className = 'px-2 py-1 bg-red-500/20 text-red-400 text-xs rounded-full';
            }

            // Placeholder data for ClockWork (connect to Stripe API)
            // In production, this would call your backend which securely fetches from Stripe
            document.getElementById('cwSubscribers').textContent = '--';
            document.getElementById('cwIndividual').textContent = '--';
            document.getElementById('cwCoach').textContent = '--';
            document.getElementById('cwMRR').textContent = '--';
            document.getElementById('cwChurn').textContent = '--';
            document.getElementById('cwCoaches').textContent = '--';
            document.getElementById('totalSubscribers').textContent = '--';
            document.getElementById('totalMRR').textContent = '--';
            document.getElementById('subsTrend').textContent = 'Connect Stripe';
            document.getElementById('mrrTrend').textContent = 'Connect Stripe';

            // Placeholder for Phoenix
            document.getElementById('phWaitlist').textContent = '--';
            document.getElementById('phBeta').textContent = '1';

            document.getElementById('lastUpdated').textContent = 'Updated ' + new Date().toLocaleTimeString();
        }

        function refreshData() {
            loadData();
        }

        // Auto-refresh every 5 minutes
        setInterval(loadData, 300000);
    </script>
</body>
</html>
